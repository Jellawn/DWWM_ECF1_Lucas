@use "../abstract/variables" as *;

.equalizer {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--eq-bar-gap);
  height: var(--eq-height);
  padding: 1rem;
  padding-bottom: calc(var(--eq-bar-gap) + 1rem);
  box-sizing: border-box;
  margin: 2rem auto;
  max-width: 600px;
  max-height: 550px;
  border: $color-pink 2px solid;
  border-radius: 8px;
  background-color: transparentize($color-light, 0.8);
  &__bar {
    flex: 1;
    max-width: var(--eq-bar-width);
    background: var(--eq-bar-color);
    height: 10px;
    transform-origin: bottom center;
    animation-name: equalizerScale;
    animation-iteration-count: infinite;
    animation-timing-function: ease-in-out;
    animation-play-state: paused; // stop par défaut
  }

  // Modificateur pour lancer l’anim
  &--playing {
    & .equalizer__bar {
      animation-play-state: running;
    }
  }

  // Animation
  @keyframes equalizerScale {
    0%,
    100% {
      transform: scaleY(0.5);
    }
    50% {
      transform: scaleY(5);
    }
  }

  // duration and delay differents for each bar for a more dynamic effect
  .equalizer__bar:nth-child(1) {
    animation-duration: 0.8s;
    animation-delay: 0s;
  }
  .equalizer__bar:nth-child(2) {
    animation-duration: 0.95s;
    animation-delay: 0.1s;
  }
  .equalizer__bar:nth-child(3) {
    animation-duration: 0.7s;
    animation-delay: 0.2s;
  }
  .equalizer__bar:nth-child(4) {
    animation-duration: 1.1s;
    animation-delay: 0.15s;
  }
  .equalizer__bar:nth-child(5) {
    animation-duration: 0.6s;
    animation-delay: 0.25s;
  }
  .equalizer__bar:nth-child(6) {
    animation-duration: 1s;
    animation-delay: 0.05s;
  }
  .equalizer__bar:nth-child(7) {
    animation-duration: 0.85s;
    animation-delay: 0.3s;
  }
  .equalizer__bar:nth-child(8) {
    animation-duration: 1.2s;
    animation-delay: 0.18s;
  }
  .equalizer__bar:nth-child(9) {
    animation-duration: 0.75s;
    animation-delay: 0.22s;
  }
  .equalizer__bar:nth-child(10) {
    animation-duration: 1.05s;
    animation-delay: 0.12s;
  }
  .equalizer__bar:nth-child(11) {
    animation-duration: 0.8s;
    animation-delay: 0s;
  }
  .equalizer__bar:nth-child(12) {
    animation-duration: 0.95s;
    animation-delay: 0.1s;
  }
  .equalizer__bar:nth-child(13) {
    animation-duration: 0.7s;
    animation-delay: 0.2s;
  }
  .equalizer__bar:nth-child(14) {
    animation-duration: 1.1s;
    animation-delay: 0.15s;
  }
  .equalizer__bar:nth-child(15) {
    animation-duration: 0.6s;
    animation-delay: 0.25s;
  }
  .equalizer__bar:nth-child(16) {
    animation-duration: 1s;
    animation-delay: 0.05s;
  }
  .equalizer__bar:nth-child(17) {
    animation-duration: 0.85s;
    animation-delay: 0.3s;
  }
  .equalizer__bar:nth-child(18) {
    animation-duration: 1.2s;
    animation-delay: 0.18s;
  }
  .equalizer__bar:nth-child(19) {
    animation-duration: 0.75s;
    animation-delay: 0.22s;
  }
  .equalizer__bar:nth-child(20) {
    animation-duration: 1.05s;
    animation-delay: 0.12s;
  }
  .equalizer__bar:nth-child(21) {
    animation-duration: 0.8s;
    animation-delay: 0s;
  }
  .equalizer__bar:nth-child(22) {
    animation-duration: 0.95s;
    animation-delay: 0.1s;
  }
  .equalizer__bar:nth-child(23) {
    animation-duration: 0.7s;
    animation-delay: 0.2s;
  }
  .equalizer__bar:nth-child(24) {
    animation-duration: 1.1s;
    animation-delay: 0.15s;
  }
  .equalizer__bar:nth-child(25) {
    animation-duration: 0.6s;
    animation-delay: 0.25s;
  }
  .equalizer__bar:nth-child(26) {
    animation-duration: 1s;
    animation-delay: 0.05s;
  }
  .equalizer__bar:nth-child(27) {
    animation-duration: 0.85s;
    animation-delay: 0.3s;
  }
  .equalizer__bar:nth-child(28) {
    animation-duration: 1.2s;
    animation-delay: 0.18s;
  }
  .equalizer__bar:nth-child(29) {
    animation-duration: 0.75s;
    animation-delay: 0.22s;
  }
  .equalizer__bar:nth-child(30) {
    animation-duration: 1.05s;
    animation-delay: 0.12s;
  }
}

.player-controls {
  position: absolute;
  bottom: 10%;
  width: 95%;
  display: flex;
  justify-content: center;

  @media (max-width: 767px) {
    .player-controls {
      position: absolute;
      bottom: 30%;
    }
  }
  &__btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: transparentize($color-light, 0.85);
    border: 2px solid $color-pink;
    color: $color-light;

    // 1. Typo et padding fluides avec clamp()
    font-size: clamp(0.875rem, 2.5vw, 2rem);
    padding: clamp(0.4rem, 2vw, 0.8rem) // vertical
      clamp(0.8rem, 4vw, 1.5rem); // horizontal
    min-width: clamp(100px, 20vw, 180px);
    border-radius: 4px;
  }
}
